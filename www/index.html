<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script type="text/javascript" src="js/file-upload.js" ></script>
    <script type="text/javascript" src="js/websocket.js" ></script>
    <script type="text/javascript" src="js/cookies.js" ></script>
  </head>
  <body>
    <!-- Navigation-->    
    <nav class="navbar bg-secondary text-uppercase" id="mainNav">
      <div class="container" style="height: 30px;">
        <!--a class="navbar-brand" href="#page-top">DAMOF</a-->
      </div>
    </nav> <!-- END Navigation-->
    
    <!-- Masthead-->
    <header class="masthead bg-primary text-white text-center">
      <div class="container d-flex align-items-center flex-column">
        <!-- Masthead Heading-->
        <h1 class="masthead-heading text-uppercase text-shadow mb-0">G.A.I.A.</h1>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-line"></div>
          <div class="divider-custom-line"></div>
        </div>
        <!-- Masthead Subheading-->
        <p class="masthead-subheading text-shadow mb-0">GTFS Accurate Insight Analyser</p>
      </div>
    </header>

    <div class="container">
      <div class="" id="upload">
        <div class="div-align-center-23 div-margin-top bg-tertiary div-shadow div-border div-rounded-border" id="configuration">
          <div class="tooltip text-center">Upload your configuration <i class="fa fa-info-circle"></i>
            <span class="tooltip-text">Select your customized <b>gtfs.cfg</b> file or let it blank if you want to use the default configuration file.</span>
          </div>
          <form>
            <progress id="progressBar" value="0" max="100" style="width: 100%;"></progress>
            <span id="percentage">---</span><span id="time"></span>
            <br /><br />
            <input type="file" id="file" name="myfile" accept=".cfg" />
            <input type="button" onclick="uploadFile( 'configuration' )" value="Upload" />
            <input type="button" onclick="cancelUploadFile( 'configuration' )" value="Cancel" />
            <div class="div-float-right">
              <i>get default<a href="/downloads/gtfs.cfg" download> gtfs.cfg</a> and <a href="/downloads/en_user_manual.pdf" download> documentation</a></i>
            </div>
          </form>
          
        </div>
        <div class="div-align-center-23 div-margin-top bg-tertiary div-shadow div-border div-rounded-border" id="gtfs">
          <form>
            <div class="tooltip text-center">Upload your GTFS files <i class="fa fa-info-circle"></i>
              <span class="tooltip-text">Select your GTFS files. It is expected a <b>.zip</b> file without any folder inside. Maximum size for the free version is <b>5 MB</b>.</span>
            </div>

            <progress id="progressBar" value="0" max="100" style="width: 100%;"></progress>
            <span id="percentage">---</span><span id="time"></span>
            <br /><br />
            <input type="file" id="file" name="myfile" accept=".zip" />
            <input type="button" onclick="uploadFile( 'gtfs', 'start-processing' )" value="Upload" />
            <input type="button" onclick="cancelUploadFile( 'gtfs' )" value="Cancel" />
            <div class="div-float-right">
              <i><a href="https://gtfs.org/schedule/reference/"> https://gtfs.org</a></i>
            </div>
          </form>
        </div>
        <div class="div-align-center-half div-margin-bottom"  id="processing">
          <input id="start-processing" type="button" class="div-shadow div-rounded-border" style="width: 200px;" disabled="true" onclick="openWsConnection( 'ws', window.location.hostname, window.location.port, '/output' )" value="Start Processing ..." />
          <input id="download-output"  type="button" class="div-shadow div-rounded-border" style="width: 200px;" disabled="true" onclick="" value="Download Output" />
        </div>
      </div>
      <div class="div-align-center-45 div-margin-top div-logging div-shadow div-scrollable" id="logging"/>
    </div>

    <!-- Copyright Section-->
    <div class="copyright div-align-bottom bg-secondary text-center text-white">
      <div class="container"><small>Copyright &copy; <b>DAMOF.org</b> 2022</small></div>
    </div>       

  </body>
</html>
